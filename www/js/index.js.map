{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/core/toolkit.ts","webpack:///./js/ui/popupnumbers.ts","webpack:///./js/core/checker.ts","webpack:///./js/core/generator.ts","webpack:///./js/core/sudoku.ts","webpack:///./js/ui/grid.ts","webpack:///./js/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","matrixToolkit","makeRow","v","arguments","length","undefined","Array","fill","makeMatrix","_this","this","from","shuffle","array","map","a","index","Math","random","_ref","checkFillable","matrix","rowIndex","colIndex","row","col","boxIndex","boxToolkit","convertToBoxIndex","box","getBoxCells","startRowIndex","floor","startColIndex","result","cellIndex","push","convertFromBoxIndex","Toolkit","default","PopupNumbers","$panel","_classCallCheck","_$panel","hide","removeClass","on","e","$cell","_targetCell","$span","$","target","hasClass","addClass","text","_$cell$position","position","left","top","css","show","__importDefault","mod","checkArray","marks","j","toolkit_1","Checker","_success","_matrix","_matrixMarks","checkRows","checkCols","checkBoxes","every","mark","cols","boxes","_toolkit_1$default$bo","Generator","internalGenerate","console","warn","orders","fillNumber","fillRow","generator_1","Sudoku","generator","generate","solutionMatrix","level","puzzleMatrix","cell","sudoku_1","checker_1","Grid","container","_$container","sudoku","make","rowGroupClasses","colGroupClasses","$divArray","rowValues","cellValue","$spanArray","append","width","height","line-height","font-size","data","children","rolIndex","div","span","toArray","$data","checker","check","matrixMarks","each","find","empty","build","layout","popupNumbers","is","popup","grid_1","popupnumbers_1","grid","bindPopup","alert","reset","clear","rebuild"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/20\n* Description: ...\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 矩阵和数组相关的工具\nconst matrixToolkit = {\n    makeRow(v = 0) {\n        const array = new Array(9);\n        return array.fill(v);\n    },\n    makeMatrix(v = 0) {\n        return Array.from({ length: 9 }, () => this.makeRow(v));\n    },\n    /*\n    * Fisher-Yates 洗牌算法\n    * 循环次数为数组长度减一\n    * 每次循环从第一个元素开始，包括其自身向后随机往后抽取一个元素\n    * 选中后交换当前元素与抽中元素\n    * */\n    shuffle(array) {\n        return array.map((v, i, a) => {\n            let index = ~~(Math.random() * (a.length - i)) + i;\n            [a[i], a[index]] = [a[index], a[i]];\n            return a[i];\n        });\n    },\n    /**\n     * 检查当前位置是否可填写\n     * */\n    checkFillable(matrix, n, rowIndex, colIndex) {\n        //取出行、列、宫中所有数据\n        const row = matrix[rowIndex]; //获取行数据\n        const col = this.makeRow().map((v, i) => matrix[i][colIndex]); //获取列数据\n        const { boxIndex } = boxToolkit.convertToBoxIndex(rowIndex, colIndex); //获取宫数据\n        const box = boxToolkit.getBoxCells(matrix, boxIndex);\n        for (let i = 0; i < 9; i++) {\n            if (row[i] === n || col[i] === n || box[i] === n) { //重复、不可填入\n                return false;\n            }\n        }\n        return true; // 可以填入\n    }\n};\n//宫坐标系工具\nconst boxToolkit = {\n    getBoxCells(matrix, boxIndex) {\n        const startRowIndex = Math.floor(boxIndex / 3) * 3;\n        const startColIndex = boxIndex % 3 * 3;\n        let result = [];\n        for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n            const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\n            const colIndex = startColIndex + Math.floor(cellIndex % 3);\n            result.push(matrix[rowIndex][colIndex]);\n        }\n        return result;\n    },\n    /*\n    * rowIndex 行索引\n    * colIndex 列索引\n    * boxIndex 宫索引\n    * cellIndex 宫内序号\n    * */\n    convertToBoxIndex(rowIndex, colIndex) {\n        return {\n            boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\n            cellIndex: rowIndex % 3 * 3 + colIndex % 3\n        };\n    },\n    convertFromBoxIndex(boxIndex, cellIndex) {\n        return {\n            rowIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3),\n            colIndex: boxIndex % 3 * 3 + cellIndex % 3\n        };\n    }\n};\n//工具集\nclass Toolkit {\n    //矩阵和数据相关的工具\n    static get matrix() {\n        return matrixToolkit;\n    }\n    //宫坐标系相关工具\n    static get box() {\n        return boxToolkit;\n    }\n}\nexports.Toolkit = Toolkit;\n;\nexports.default = Toolkit;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: 处理弹出的操作面板\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass PopupNumbers {\n    constructor($panel) {\n        this._$panel = $panel.hide().removeClass('hidden');\n        this._$panel.on('click', 'span', e => {\n            const $cell = this._targetCell;\n            const $span = $(e.target);\n            //  Backfill style\n            if ($span.hasClass('mark1')) {\n                if ($cell.hasClass('mark1')) {\n                    $cell.removeClass('mark1');\n                }\n                else {\n                    $cell.removeClass('mark2').addClass('mark1');\n                }\n            }\n            else if ($span.hasClass('mark2')) {\n                if ($cell.hasClass('mark2')) {\n                    $cell.removeClass('mark2');\n                }\n                else {\n                    $cell.removeClass('mark1').addClass('mark2');\n                }\n            }\n            else\n                ($span.hasClass('empty'));\n            {\n                // Remove number\n                $cell.text(0).addClass('empty');\n            }\n            this.hide();\n            //  Backfill number\n            $cell.removeClass('empty').text($span.text());\n        });\n    }\n    popup($cell) {\n        this._targetCell = $cell;\n        const { left, top } = $cell.position();\n        this._$panel.css({\n            left: `${left}px`,\n            top: `${top}px`\n        }).show();\n    }\n    hide() {\n        this._$panel.hide();\n    }\n}\nexports.PopupNumbers = PopupNumbers;\nexports.default = PopupNumbers;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate data solutions\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst checkArray = array => {\n    const length = array.length;\n    const marks = new Array(length).fill(true); // 用于标记数组中错误的项\n    array.map((v, i, a) => {\n        if (!marks[i])\n            return;\n        // 是否有效 有效：'t' 无效：'f'\n        if (!v && v !== 0) {\n            return marks[i] = false;\n        }\n        //  是否重复 从 i+1~~9 是否和i位置数据重复\n        for (let j = i + 1; j < length; j++) {\n            if (v === array[j]) {\n                marks[i] = marks[j] = false;\n            }\n        }\n    });\n    return marks;\n};\n/*\n* 输入 matrix 用户完成的数独数据 9*9\n* 处理 对matrix行列宫进行检查 并填写marks\n* 输出 检查是否成功、marks\n* */\nconst toolkit_1 = __importDefault(require(\"./toolkit\"));\nclass Checker {\n    constructor(matrix) {\n        this._success = false;\n        this._matrix = matrix;\n        this._matrixMarks = toolkit_1.default.matrix.makeMatrix(true);\n    }\n    get matrixMarks() {\n        return this._matrixMarks;\n    }\n    get isSuccess() {\n        return this._success;\n    }\n    check() {\n        this.checkRows();\n        this.checkCols();\n        this.checkBoxes();\n        // 检查是否成功\n        this._success = this._matrixMarks.every(row => row.every(mark => mark));\n        return this._success;\n    }\n    checkRows() {\n        for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n            const row = this._matrix[rowIndex];\n            const marks = checkArray(row);\n            for (let colIndex = 0; colIndex < marks.length; colIndex++) {\n                if (!marks[colIndex]) {\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n    checkCols() {\n        for (let colIndex = 0; colIndex < 9; colIndex++) {\n            const cols = [];\n            for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n                cols[rowIndex] = this._matrix[rowIndex][colIndex];\n            }\n            const marks = checkArray(cols);\n            for (let rowIndex = 0; rowIndex < marks.length; rowIndex++) {\n                if (!marks[rowIndex]) {\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n    checkBoxes() {\n        for (let boxIndex = 0; boxIndex < 9; boxIndex++) {\n            const boxes = toolkit_1.default.box.getBoxCells(this._matrix, boxIndex);\n            const marks = checkArray(boxes);\n            for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n                if (!marks[cellIndex]) {\n                    const { rowIndex, colIndex } = toolkit_1.default.box.convertFromBoxIndex(boxIndex, cellIndex);\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n}\nexports.Checker = Checker;\nexports.default = Checker;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate Sudoku solutions\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst toolkit_1 = __importDefault(require(\"./toolkit\"));\nclass Generator {\n    generate() {\n        while (!this.internalGenerate()) {\n            console.warn(\"try again\");\n        }\n    }\n    internalGenerate() {\n        this.matrix = toolkit_1.default.matrix.makeMatrix();\n        // console.log(this.matrix);\n        this.orders = toolkit_1.default.matrix.makeMatrix() //随机序列矩阵\n            .map(row => row.map((v, i) => i))\n            .map(row => toolkit_1.default.matrix.shuffle(row));\n        // console.log(this.orders);\n        // Toolkit.matrix.makeRow()\n        //   .every()\n        for (let n = 1; n <= 9; n++) {\n            if (!this.fillNumber(n)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    fillNumber(n) {\n        return this.fillRow(n, 0);\n    }\n    fillRow(n, rowIndex) {\n        if (rowIndex > 8) {\n            return true;\n        }\n        const row = this.matrix[rowIndex];\n        const orders = this.orders[rowIndex];\n        for (let i = 0; i < 9; i++) {\n            const colIndex = orders[i];\n            if (row[colIndex]) { // 当前位置已经有值，跳过\n                continue;\n            }\n            //  检查这个位置是否可填入 n\n            if (!toolkit_1.default.matrix.checkFillable(this.matrix, n, rowIndex, colIndex)) {\n                continue;\n            }\n            row[colIndex] = n;\n            // 去下一行填写n，填写失败，则继续在当前行寻找下一个位置\n            if (!this.fillRow(n, rowIndex + 1)) {\n                row[colIndex] = 0;\n                continue;\n            }\n            return true;\n        }\n        return false;\n    }\n}\nexports.Generator = Generator;\nexports.default = Generator;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate sudoku games\n*   1. Generate a complete Sudoku array\n*   2. Random removal some item\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst generator_1 = __importDefault(require(\"./generator\"));\nclass Sudoku {\n    constructor() {\n        const generator = new generator_1.default();\n        generator.generate();\n        this.solutionMatrix = generator.matrix;\n    }\n    make(level = 5) {\n        // const shouldRid = Math.random() * 9 < level\n        this.puzzleMatrix = this.solutionMatrix.map(row => row.map(cell => Math.random() * 9 < level ? 0 : cell));\n    }\n}\nexports.Sudoku = Sudoku;\nexports.default = Sudoku;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate Jiugongge\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sudoku_1 = __importDefault(require(\"../core/sudoku\"));\nconst checker_1 = __importDefault(require(\"../core/checker\"));\nclass Grid {\n    constructor(container) {\n        this._$container = container;\n    }\n    build() {\n        const sudoku = new sudoku_1.default();\n        sudoku.make();\n        // const matrix = sudoku.solutionMatrix  //调试模式：默认填入所有项\n        const matrix = sudoku.puzzleMatrix;\n        const rowGroupClasses = ['row_g_top', 'row_g_middle', 'row_g_bottom'];\n        const colGroupClasses = ['col_g_left', 'col_g_center', 'col_g_right'];\n        const $cells = matrix.map(rowValues => rowValues\n            .map((cellValue, index) => $(\"<span>\")\n            .addClass(colGroupClasses[index % 3])\n            .addClass(cellValue ? 'fixed' : 'empty')\n            .text(cellValue)));\n        const $divArray = $cells.map(($spanArray, index) => $(\"<div>\")\n            .addClass(\"row\")\n            .addClass(rowGroupClasses[index % 3])\n            .append($spanArray));\n        this._$container.append($divArray);\n    }\n    layout() {\n        const width = $('span:first', this._$container).width();\n        $('span', this._$container)\n            .height(width)\n            .css({\n            \"line-height\": `${width}px`,\n            \"font-size\": width < 32 ? `${width / 2}px` : ''\n        });\n    }\n    //对应检查按钮，检查数独结果（标记失败的项或提示成功）\n    check() {\n        //this map is a jquery function $.map((index,item)=>{...})\n        const data = this._$container.children()\n            .map((rolIndex, div) => $(div).children()\n            .map((colIndex, span) => +$(span).text() || 0))\n            .toArray()\n            .map($data => $data.toArray());\n        const checker = new checker_1.default(data);\n        if (checker.check()) {\n            return true;\n        }\n        //  检查不成功\n        const marks = checker.matrixMarks;\n        this._$container.children()\n            .each((rolIndex, div) => {\n            $(div).children().each((colIndex, span) => {\n                if ($(span).hasClass('fixed') || marks[rolIndex][colIndex]) {\n                    $(span).removeClass('error');\n                }\n                else {\n                    $(span).addClass('error');\n                }\n            });\n        });\n    }\n    //对应重置按钮，重置之前的数独状态\n    reset() {\n        this._$container.find('span:not(.fixed)')\n            .removeClass('error mark1 mark2')\n            .addClass('empty')\n            .text(0);\n    }\n    //对应清理按钮，清除错误标记\n    clear() {\n        this._$container.find(\"span.error\")\n            .removeClass('error');\n    }\n    //对应重建按钮，重新生成数独游戏\n    rebuild() {\n        this._$container.empty();\n        this.build();\n        this.layout();\n    }\n    bindPopup(popupNumbers) {\n        //事件代理，将click事件绑定到container上\n        this._$container.on('click', 'span', e => {\n            const $cell = $(e.target);\n            if ($cell.is('.fixed'))\n                return;\n            popupNumbers.popup($cell);\n        });\n    }\n}\nexports.Grid = Grid;\nexports.default = Grid;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/20\n* Description:\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst grid_1 = __importDefault(require(\"./ui/grid\"));\nconst popupnumbers_1 = __importDefault(require(\"./ui/popupnumbers\"));\nconst grid = new grid_1.default($(\"#container\"));\ngrid.build();\ngrid.layout();\nconst popupNumbers = new popupnumbers_1.default($(\"#popupNumbers\"));\ngrid.bindPopup(popupNumbers);\n$('#check').on('click', e => {\n    if (grid.check()) {\n        alert('成功');\n    }\n});\n$('#reset').on('click', e => {\n    grid.reset();\n});\n$('#clear').on('click', e => {\n    grid.clear();\n});\n$('#rebuild').on('click', e => {\n    grid.rebuild();\n});\n"],"sourceRoot":""}