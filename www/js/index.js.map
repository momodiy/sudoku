{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/core/toolkit.ts","webpack:///./js/ui/popupnumbers.ts","webpack:///./js/core/checker.ts","webpack:///./js/core/generator.ts","webpack:///./js/core/sudoku.ts","webpack:///./js/ui/grid.ts","webpack:///./js/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","boxToolkit","getBoxCells","matrix","boxIndex","startRowIndex","Math","floor","startColIndex","result","cellIndex","rowIndex","colIndex","push","convertToBoxIndex","convertFromBoxIndex","MatrixToolkit","v","arguments","length","undefined","Array","fill","_this","this","from","makeRow","array","map","a","index","random","_ref","row","col","box","Toolkit","default","PopupNumbers","$panel","_classCallCheck","_$panel","hide","removeClass","on","e","$cell","_targetCell","$span","$","target","hasClass","addClass","text","_$cell$position","position","left","top","css","show","__importDefault","mod","checkArray","marks","j","toolkit_1","Checker","_success","_matrix","_matrixMarks","makeMatrix","checkRows","checkCols","checkBoxes","every","mark","cols","boxes","_toolkit_1$default$bo","Generator","internalGenerate","console","warn","orders","shuffle","fillNumber","fillRow","checkFillable","generator_1","Sudoku","generator","generate","solutionMatrix","level","puzzleMatrix","cell","sudoku_1","checker_1","Grid","container","_$container","sudoku","make","rowGroupClasses","colGroupClasses","$divArray","rowValues","cellValue","$spanArray","append","width","height","line-height","font-size","data","children","toArray","div","span","checker","check","matrixMarks","each","rolIndex","find","empty","build","layout","popupNumbers","is","popup","grid_1","popupnumbers_1","grid","bindPopup","alert","reset","clear","rebuild"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/20\n* Description: ...\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//宫坐标系工具\nconst boxToolkit = {\n    getBoxCells(matrix, boxIndex) {\n        const startRowIndex = Math.floor(boxIndex / 3) * 3;\n        const startColIndex = boxIndex % 3 * 3;\n        let result = [];\n        for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n            const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\n            const colIndex = startColIndex + Math.floor(cellIndex % 3);\n            result.push(matrix[rowIndex][colIndex]);\n        }\n        return result;\n    },\n    /*\n    * rowIndex 行索引\n    * colIndex 列索引\n    * boxIndex 宫索引\n    * cellIndex 宫内序号\n    * */\n    convertToBoxIndex(rowIndex, colIndex) {\n        return {\n            boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\n            cellIndex: rowIndex % 3 * 3 + colIndex % 3\n        };\n    },\n    convertFromBoxIndex(boxIndex, cellIndex) {\n        return {\n            rowIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3),\n            colIndex: boxIndex % 3 * 3 + cellIndex % 3\n        };\n    }\n};\n// 矩阵和数组相关的工具\nclass MatrixToolkit {\n    static makeRow(v = 0) {\n        const array = new Array(9);\n        return array.fill(v);\n    }\n    static makeMatrix(v = 0) {\n        return Array.from({ length: 9 }, () => this.makeRow(v));\n    }\n    /*\n    * Fisher-Yates 洗牌算法\n    * 循环次数为数组长度减一\n    * 每次循环从第一个元素开始，包括其自身向后随机往后抽取一个元素\n    * 选中后交换当前元素与抽中元素\n    * */\n    static shuffle(array) {\n        return array.map((v, i, a) => {\n            let index = ~~(Math.random() * (a.length - i)) + i;\n            [a[i], a[index]] = [a[index], a[i]];\n            return a[i];\n        });\n    }\n    /**\n     * 检查当前位置是否可填写\n     * */\n    static checkFillable(matrix, n, rowIndex, colIndex) {\n        //取出行、列、宫中所有数据\n        const row = matrix[rowIndex]; //获取行数据\n        const col = this.makeRow().map((v, i) => matrix[i][colIndex]); //获取列数据\n        const { boxIndex } = boxToolkit.convertToBoxIndex(rowIndex, colIndex); //获取宫数据\n        const box = boxToolkit.getBoxCells(matrix, boxIndex);\n        for (let i = 0; i < 9; i++) {\n            if (row[i] === n || col[i] === n || box[i] === n) { //重复、不可填入\n                return false;\n            }\n        }\n        return true; // 可以填入\n    }\n}\n//工具集\nclass Toolkit {\n    //矩阵和数据相关的工具\n    //显示定义返回值类型为MatrixToolkit的类型\n    static get matrix() {\n        return MatrixToolkit;\n    }\n    //宫坐标系相关工具\n    static get box() {\n        return boxToolkit;\n    }\n}\nexports.Toolkit = Toolkit;\n;\nexports.default = Toolkit;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: 处理弹出的操作面板\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass PopupNumbers {\n    constructor($panel) {\n        this._$panel = $panel.hide().removeClass('hidden');\n        this._$panel.on('click', 'span', e => {\n            const $cell = this._targetCell;\n            const $span = $(e.target);\n            //  Backfill style\n            if ($span.hasClass('mark1')) {\n                if ($cell.hasClass('mark1')) {\n                    $cell.removeClass('mark1');\n                }\n                else {\n                    $cell.removeClass('mark2').addClass('mark1');\n                }\n            }\n            else if ($span.hasClass('mark2')) {\n                if ($cell.hasClass('mark2')) {\n                    $cell.removeClass('mark2');\n                }\n                else {\n                    $cell.removeClass('mark1').addClass('mark2');\n                }\n            }\n            else\n                ($span.hasClass('empty'));\n            {\n                // Remove number\n                $cell.text(0).addClass('empty');\n            }\n            this.hide();\n            //  Backfill number\n            $cell.removeClass('empty').text($span.text());\n        });\n    }\n    popup($cell) {\n        this._targetCell = $cell;\n        const { left, top } = $cell.position();\n        this._$panel.css({\n            left: `${left}px`,\n            top: `${top}px`\n        }).show();\n    }\n    hide() {\n        this._$panel.hide();\n    }\n}\nexports.PopupNumbers = PopupNumbers;\nexports.default = PopupNumbers;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate data solutions\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst checkArray = (array) => {\n    const length = array.length;\n    const marks = new Array(length).fill(true); // 用于标记数组中错误的项\n    array.map((v, i, a) => {\n        if (!marks[i])\n            return;\n        // 是否有效 有效：'t' 无效：'f'\n        if (!v && v !== 0) {\n            return marks[i] = false;\n        }\n        //  是否重复 从 i+1~~9 是否和i位置数据重复\n        for (let j = i + 1; j < length; j++) {\n            if (v === array[j]) {\n                marks[i] = marks[j] = false;\n            }\n        }\n    });\n    return marks;\n};\n/*\n* 输入 matrix 用户完成的数独数据 9*9\n* 处理 对matrix行列宫进行检查 并填写marks\n* 输出 检查是否成功、marks\n* */\nconst toolkit_1 = __importDefault(require(\"./toolkit\"));\nclass Checker {\n    constructor(matrix) {\n        this._success = false;\n        this._matrix = matrix;\n        this._matrixMarks = toolkit_1.default.matrix.makeMatrix(true);\n    }\n    get matrixMarks() {\n        return this._matrixMarks;\n    }\n    get isSuccess() {\n        return this._success;\n    }\n    check() {\n        this.checkRows();\n        this.checkCols();\n        this.checkBoxes();\n        // 检查是否成功\n        this._success = this._matrixMarks.every(row => row.every(mark => mark));\n        return this._success;\n    }\n    checkRows() {\n        for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n            const row = this._matrix[rowIndex];\n            const marks = checkArray(row);\n            for (let colIndex = 0; colIndex < marks.length; colIndex++) {\n                if (!marks[colIndex]) {\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n    checkCols() {\n        for (let colIndex = 0; colIndex < 9; colIndex++) {\n            const cols = [];\n            for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n                cols[rowIndex] = this._matrix[rowIndex][colIndex];\n            }\n            const marks = checkArray(cols);\n            for (let rowIndex = 0; rowIndex < marks.length; rowIndex++) {\n                if (!marks[rowIndex]) {\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n    checkBoxes() {\n        for (let boxIndex = 0; boxIndex < 9; boxIndex++) {\n            const boxes = toolkit_1.default.box.getBoxCells(this._matrix, boxIndex);\n            const marks = checkArray(boxes);\n            for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n                if (!marks[cellIndex]) {\n                    const { rowIndex, colIndex } = toolkit_1.default.box.convertFromBoxIndex(boxIndex, cellIndex);\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n}\nexports.Checker = Checker;\nexports.default = Checker;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate Sudoku solutions\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst toolkit_1 = __importDefault(require(\"./toolkit\"));\nclass Generator {\n    generate() {\n        while (!this.internalGenerate()) {\n            console.warn(\"try again\");\n        }\n    }\n    internalGenerate() {\n        this.matrix = toolkit_1.default.matrix.makeMatrix();\n        // console.log(this.matrix);\n        this.orders = toolkit_1.default.matrix.makeMatrix() //随机序列矩阵\n            .map(row => row.map((v, i) => i))\n            .map(row => toolkit_1.default.matrix.shuffle(row));\n        // console.log(this.orders);\n        // Toolkit.matrix.makeRow()\n        //   .every()\n        for (let n = 1; n <= 9; n++) {\n            if (!this.fillNumber(n)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    fillNumber(n) {\n        return this.fillRow(n, 0);\n    }\n    fillRow(n, rowIndex) {\n        if (rowIndex > 8) {\n            return true;\n        }\n        const row = this.matrix[rowIndex];\n        const orders = this.orders[rowIndex];\n        for (let i = 0; i < 9; i++) {\n            const colIndex = orders[i];\n            if (row[colIndex]) { // 当前位置已经有值，跳过\n                continue;\n            }\n            //  检查这个位置是否可填入 n\n            if (!toolkit_1.default.matrix.checkFillable(this.matrix, n, rowIndex, colIndex)) {\n                continue;\n            }\n            row[colIndex] = n;\n            // 去下一行填写n，填写失败，则继续在当前行寻找下一个位置\n            if (!this.fillRow(n, rowIndex + 1)) {\n                row[colIndex] = 0;\n                continue;\n            }\n            return true;\n        }\n        return false;\n    }\n}\nexports.Generator = Generator;\nexports.default = Generator;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate sudoku games\n*   1. Generate a complete Sudoku array\n*   2. Random removal some item\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst generator_1 = __importDefault(require(\"./generator\"));\nclass Sudoku {\n    constructor() {\n        const generator = new generator_1.default();\n        generator.generate();\n        this.solutionMatrix = generator.matrix;\n    }\n    make(level = 5) {\n        // const shouldRid = Math.random() * 9 < level\n        this.puzzleMatrix = this.solutionMatrix.map(row => row.map(cell => Math.random() * 9 < level ? 0 : cell));\n    }\n}\nexports.Sudoku = Sudoku;\nexports.default = Sudoku;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/22\n* Description: Generate Jiugongge\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sudoku_1 = __importDefault(require(\"../core/sudoku\"));\nconst checker_1 = __importDefault(require(\"../core/checker\"));\nclass Grid {\n    constructor(container) {\n        this._$container = container;\n    }\n    build() {\n        const sudoku = new sudoku_1.default();\n        sudoku.make();\n        // const matrix = sudoku.solutionMatrix  //调试模式：默认填入所有项\n        const matrix = sudoku.puzzleMatrix;\n        const rowGroupClasses = ['row_g_top', 'row_g_middle', 'row_g_bottom'];\n        const colGroupClasses = ['col_g_left', 'col_g_center', 'col_g_right'];\n        const $cells = matrix.map((rowValues) => rowValues\n            .map((cellValue, index) => {\n            return $(\"<span>\")\n                .addClass(colGroupClasses[index % 3])\n                .addClass(cellValue ? 'fixed' : 'empty')\n                .text(cellValue);\n        }));\n        const $divArray = $cells.map(($spanArray, index) => $(\"<div>\")\n            .addClass(\"row\")\n            .addClass(rowGroupClasses[index % 3])\n            .append($spanArray));\n        this._$container.append($divArray);\n    }\n    layout() {\n        const width = $('span:first', this._$container).width();\n        $('span', this._$container)\n            .height(width)\n            .css({\n            \"line-height\": `${width}px`,\n            \"font-size\": width < 32 ? `${width / 2}px` : ''\n        });\n    }\n    //对应检查按钮，检查数独结果（标记失败的项或提示成功）\n    check() {\n        //this map is a jquery function $.map((index,item)=>{...})\n        // const data = this._$container.children()\n        //     .toArray()\n        //     .map(div => $(div).children()\n        //         .map((colIndex, span) => +$(span).text() || 0))\n        //     .map($data => $data.toArray())\n        const data = this._$container.children()\n            .toArray()\n            .map((div) => {\n            return $(div).children()\n                .toArray()\n                .map(span => +$(span).text() || 0);\n        });\n        const checker = new checker_1.default(data);\n        if (checker.check()) {\n            return true;\n        }\n        //  检查不成功\n        const marks = checker.matrixMarks;\n        this._$container.children()\n            .each((rolIndex, div) => {\n            $(div).children().each((colIndex, span) => {\n                if ($(span).hasClass('fixed') || marks[rolIndex][colIndex]) {\n                    $(span).removeClass('error');\n                }\n                else {\n                    $(span).addClass('error');\n                }\n            });\n        });\n    }\n    //对应重置按钮，重置之前的数独状态\n    reset() {\n        this._$container.find('span:not(.fixed)')\n            .removeClass('error mark1 mark2')\n            .addClass('empty')\n            .text(0);\n    }\n    //对应清理按钮，清除错误标记\n    clear() {\n        this._$container.find(\"span.error\")\n            .removeClass('error');\n    }\n    //对应重建按钮，重新生成数独游戏\n    rebuild() {\n        this._$container.empty();\n        this.build();\n        this.layout();\n    }\n    bindPopup(popupNumbers) {\n        //事件代理，将click事件绑定到container上\n        this._$container.on('click', 'span', e => {\n            const $cell = $(e.target);\n            if ($cell.is('.fixed'))\n                return;\n            popupNumbers.popup($cell);\n        });\n    }\n}\nexports.Grid = Grid;\nexports.default = Grid;\n","\"use strict\";\n/*\n* Author: stevenlee\n* Date: 2018/6/20\n* Description:\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst grid_1 = __importDefault(require(\"./ui/grid\"));\nconst popupnumbers_1 = __importDefault(require(\"./ui/popupnumbers\"));\nconst grid = new grid_1.default($(\"#container\"));\ngrid.build();\ngrid.layout();\nconst popupNumbers = new popupnumbers_1.default($(\"#popupNumbers\"));\ngrid.bindPopup(popupNumbers);\n$('#check').on('click', e => {\n    if (grid.check()) {\n        alert('成功');\n    }\n});\n$('#reset').on('click', e => {\n    grid.reset();\n});\n$('#clear').on('click', e => {\n    grid.clear();\n});\n$('#rebuild').on('click', e => {\n    grid.rebuild();\n});\n"],"sourceRoot":""}